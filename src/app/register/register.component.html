<form [formGroup]="registerForm" (ngSubmit)="register(registerForm)">
  <h3 class="my-4">Register Now</h3>

  <div class="alert alert-danger my-4" *ngIf="apiError">
    <p class="m-0">{{apiError}}</p>
  </div>


  <label for="name">Name</label>
  <input type="text" name="naem" id="name" formControlName="name" class="form-control">
  <div class="alert alert-danger my-3" *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched">
    <p class="m-0" *ngIf='registerForm.get("name")?.getError("minlength")'>Name min length is 3</p>
    <p class="m-0" *ngIf='registerForm.get("name")?.getError("required")'>Name is required</p>
  </div>

  <label for="">Email</label>
  <input type="email" name="email" id="email" formControlName="email" class="form-control">
  <div class="alert alert-danger my-3" *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched">
    <p class="m-0" *ngIf='registerForm.get("email")?.getError("email")'>Please Enter a valid email</p>
    <p class="m-0" *ngIf='registerForm.get("email")?.getError("required")'>Email is required</p>
  </div>

  <label for="password">Password</label>
  <input type="password" name="password" id="password" formControlName="password" class="form-control">
  <div class="alert alert-danger my-3" *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched">
    <p class="m-0" *ngIf='registerForm.get("password")?.getError("minlength")'>Passwrod min length is 8</p>
    <p class="m-0" *ngIf='registerForm.get("password")?.getError("required")'>Password is required</p>
  </div>

  <label for="rePassword">Re-enter Password</label>
  <input type="password" name="rePassword" id="rePassword" formControlName="rePassword" class="form-control">
  <div class="alert alert-danger my-3" *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched">
    <p class="m-0" *ngIf='registerForm.get("rePassword")?.getError("minlength")'>Passwrod min length is 8</p>
    <p class="m-0" *ngIf='registerForm.get("rePassword")?.getError("required")'>Password is required</p>
  </div>

  <label for="phone">Phone</label>
  <input type="tel" name="phone" id="phone" formControlName="phone" class="form-control">
  <div class="alert alert-danger my-3" *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched">
    <p class="m-0" *ngIf='registerForm.get("phone")?.getError("pattern")'>Must be an egyptian number</p>
    <p class="m-0" *ngIf='registerForm.get("phone")?.getError("required")'>Phone is required</p>
  </div>

  <button class="btn btn-success d-block ms-auto mt-3" type="submit" [disabled]="registerForm.invalid">
    <i class="fas fa-spinner fa-spin" *ngIf="loading"></i>
    <span *ngIf="!loading">Register</span>
  </button>

</form>
